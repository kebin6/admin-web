var fe=Object.defineProperty,de=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var Q=(e,s,o)=>s in e?fe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,C=(e,s)=>{for(var o in s||(s={}))he.call(s,o)&&Q(e,o,s[o]);if(J)for(var o of J(s))we.call(s,o)&&Q(e,o,s[o]);return e},R=(e,s)=>de(e,ge(s));var U=(e,s,o)=>new Promise((c,l)=>{var p=i=>{try{n(o.next(i))}catch(u){l(u)}},t=i=>{try{n(o.throw(i))}catch(u){l(u)}},n=i=>i.done?c(i.value):Promise.resolve(i.value).then(p,t);n((o=o.apply(e,s)).next())});import{b as _,f as E,_ as z,p as N,aP as me,d as K,t as x,an as ee,aQ as ye,aR as te,am as Ce}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{d as I,c as w,ab as D,_ as h,$ as P,F as De,ae as d,a7 as O,a8 as g,G as V,a1 as S,ac as T,aa as b,a2 as $,af as oe,a0 as W,k as j,f as k,g as F,u as a,J as v,w as X,y as se,n as ke,ad as Y,m as $e,a9 as Be,ag as ve,ah as Pe,r as ne,h as be}from"./vue-BMCEF3Jf.js";import{B as Oe,S as Se}from"./index-CU9epjG0.js";import{a4 as Te,z as Fe}from"./antd-BPAr-OsJ.js";import{i as He}from"./isNumber-j3SIk7av.js";import{i as Le}from"./isDeepEqual-DDA9_BTC.js";const{t:Z}=_(),re={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:Z("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:Z("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Re=C({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},open:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},re),Ne=I({name:"BasicDrawerFooter",props:R(C({},re),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:s}){const{prefixCls:o}=E("basic-drawer-footer"),c=w(()=>{const t=`${e.height}`;return{height:t,lineHeight:`calc(${t} - 1px)`}});function l(){s("ok")}function p(){s("close")}return{handleOk:l,prefixCls:o,handleClose:p,getStyle:c}}});function Ve(e,s,o,c,l,p){const t=D("a-button");return e.showFooter||e.$slots.footer?(h(),P("div",{key:0,class:$(e.prefixCls),style:oe(e.getStyle)},[e.$slots.footer?d(e.$slots,"footer",{key:1}):(h(),P(De,{key:0},[d(e.$slots,"insertFooter"),e.showCancelBtn?(h(),O(t,T({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:g(()=>[V(S(e.cancelText),1)]),_:1},16,["onClick"])):b("",!0),d(e.$slots,"centerFooter"),e.showOkBtn?(h(),O(t,T({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:g(()=>[V(S(e.okText),1)]),_:1},16,["type","onClick","loading"])):b("",!0),d(e.$slots,"appendFooter")],64))],6)):b("",!0)}const je=z(Ne,[["render",Ve]]),Ae=I({name:"BasicDrawerHeader",components:{BasicTitle:Oe,ArrowLeftOutlined:Te},props:{isDetail:N.bool,showDetailBack:N.bool,title:N.string},emits:["close"],setup(e,{emit:s}){const{prefixCls:o}=E("basic-drawer-header");function c(){s("close")}return{prefixCls:o,handleClose:c}}}),Ee={key:1};function ze(e,s,o,c,l,p){const t=D("BasicTitle"),n=D("ArrowLeftOutlined");return e.isDetail?(h(),P("div",{key:1,class:$([e.prefixCls,`${e.prefixCls}--detail`])},[W("span",{class:$(`${e.prefixCls}__twrap`)},[e.showDetailBack?(h(),P("span",{key:0,onClick:s[0]||(s[0]=(...i)=>e.handleClose&&e.handleClose(...i))},[j(n,{class:$(`${e.prefixCls}__back`)},null,8,["class"])])):b("",!0),e.title?(h(),P("span",Ee,S(e.title),1)):b("",!0)],2),W("span",{class:$(`${e.prefixCls}__toolbar`)},[d(e.$slots,"titleToolbar")],2)],2)):(h(),O(t,{key:0,class:$(e.prefixCls)},{default:g(()=>[d(e.$slots,"title"),V(" "+S(e.$slots.title?"":e.title),1)]),_:3},8,["class"]))}const Ie=z(Ae,[["render",ze]]),Me=I({components:{Drawer:Fe,ScrollContainer:Se,DrawerFooter:je,DrawerHeader:Ie},inheritAttrs:!1,props:Re,emits:["open-change","ok","close","register"],setup(e,{emit:s}){const o=k(!1),c=me(),l=k(null),{t:p}=_(),{prefixVar:t,prefixCls:n}=E("basic-drawer"),i={setDrawerProps:ce,emitOpen:void 0},u=F();u&&s("register",i,u.uid);const y=w(()=>K(v(e),a(l))),m=w(()=>{const r=R(C(C({placement:"right"},a(c)),a(y)),{open:a(o)});r.title=void 0;const{isDetail:f,width:L,wrapClassName:q,getContainer:pe}=r;if(f){L||(r.width="100%");const G=`${n}__detail`;r.class=q?`${q} ${G}`:G,pe||(r.getContainer=`.${t}-layout-content`)}return r}),H=w(()=>C(C({},c),a(m))),M=w(()=>{const{footerHeight:r,showFooter:f}=a(m);return f&&r?He(r)?`${r}px`:`${r.replace("px","")}px`:"0px"}),ae=w(()=>({position:"relative",height:`calc(100% - ${a(M)})`})),le=w(()=>{var r;return!!((r=a(m))!=null&&r.loading)});X(()=>e.open,(r,f)=>{r!==f&&(o.value=r)},{deep:!0}),X(()=>o.value,r=>{se(()=>{var f;s("open-change",r),u&&((f=i.emitOpen)==null||f.call(i,r,u.uid))})});function ie(r){return U(this,null,function*(){const{closeFunc:f}=a(m);if(s("close",r),f&&x(f)){const L=yield f();o.value=!L;return}o.value=!1})}function ce(r){l.value=K(a(l)||{},r),Reflect.has(r,"open")&&(o.value=!!r.open)}function ue(){s("ok")}return{onClose:ie,t:p,prefixCls:n,getMergeProps:y,getScrollContentStyle:ae,getProps:m,getLoading:le,getBindValues:H,getFooterHeight:M,handleOk:ue}}});function qe(e,s,o,c,l,p){const t=D("DrawerHeader"),n=D("ScrollContainer"),i=D("DrawerFooter"),u=D("Drawer"),y=ke("loading");return h(),O(u,T({class:e.prefixCls,onClose:e.onClose},e.getBindValues),Y({extra:g(()=>[d(e.$slots,"extra")]),default:g(()=>[$e((h(),O(n,{style:oe(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:g(()=>[d(e.$slots,"default")]),_:3},8,["style","loading-tip"])),[[y,e.getLoading]]),j(i,T(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),Y({_:2},[Be(Object.keys(e.$slots),m=>({name:m,fn:g(H=>[d(e.$slots,m,ve(Pe(H||{})))])}))]),1040,["onClose","onOk","height"])]),_:2},[e.$slots.title?{name:"title",fn:g(()=>[d(e.$slots,"title")]),key:"1"}:{name:"title",fn:g(()=>[j(t,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:g(()=>[d(e.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack","onClose"])]),key:"0"}]),1040,["class","onClose"])}const Ge=z(Me,[["render",qe]]),B=ne({}),A=ne({});function Ze(){if(!F())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=k(null),s=k(!1),o=k(0);function c(t,n){ee(()=>{e.value=null,s.value=null,B[a(o)]=null}),!(a(s)&&ye()&&t===a(e))&&(o.value=n,e.value=t,s.value=!0,t.emitOpen=(i,u)=>{A[u]=i})}const l=()=>{const t=a(e);return t||te("useDrawer instance is undefined!"),t},p={setDrawerProps:t=>{var n;(n=l())==null||n.setDrawerProps(t)},getOpen:w(()=>A[~~a(o)]),openDrawer:(t=!0,n,i=!0)=>{var y;if((y=l())==null||y.setDrawerProps({open:t}),!n)return;if(i){B[a(o)]=null,B[a(o)]=v(n);return}Le(v(B[a(o)]),v(n))||(B[a(o)]=v(n))},closeDrawer:()=>{var t;(t=l())==null||t.setDrawerProps({open:!1})}};return[c,p]}const _e=e=>{const s=k(null),o=F(),c=k(0);if(!F())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const l=()=>{const t=a(s);if(!t){te("useDrawerInner instance is undefined!");return}return t},p=(t,n)=>{ee(()=>{s.value=null}),c.value=n,s.value=t,o==null||o.emit("register",t,n)};return be(()=>{const t=B[a(c)];t&&(!e||!x(e)||se(()=>{e(t)}))}),[p,{changeLoading:(t=!0)=>{var n;(n=l())==null||n.setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{var n;(n=l())==null||n.setDrawerProps({confirmLoading:t})},getOpen:w(()=>A[~~a(c)]),closeDrawer:()=>{var t;(t=l())==null||t.setDrawerProps({open:!1})},setDrawerProps:t=>{var n;(n=l())==null||n.setDrawerProps(t)}}]},xe=Ce(Ge);export{xe as B,_e as a,Ze as u};
