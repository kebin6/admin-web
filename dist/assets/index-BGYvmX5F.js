var d=(e,l,a)=>new Promise((c,n)=>{var m=t=>{try{r(a.next(t))}catch(o){n(o)}},i=t=>{try{r(a.throw(t))}catch(o){n(o)}},r=t=>t.done?c(t.value):Promise.resolve(t.value).then(m,i);r((a=a.apply(e,l)).next())});import{B as w,u as C}from"./useTable-CCLOgsii.js";import{T}from"./useForm-5wnZKxWU.js";import{u as y}from"./index-DDf_l8hU.js";import{O as D,g as k,c as v,d as O}from"./OauthDrawer-zSBv86GQ.js";import{v as P,_ as S}from"./entry/index-C41ZFr6n-1718602026943.js";import{P as B}from"./index-Dk0RLsSC.js";import{d as I,ab as s,_ as b,a7 as g,a8 as p,k as u,G as R,a1 as $,aa as A}from"./vue-BMCEF3Jf.js";import"./index-oRM4bmDd.js";import"./antd-BPAr-OsJ.js";import"./isBoolean-Dou3jA6I.js";import"./index-G5Wa8967.js";import"./useWindowSizeFn-Cczi9si3.js";import"./isDeepEqual-CCjWtLPA.js";import"./isNumber-j3SIk7av.js";import"./index-CrgunjrK.js";import"./object-BY_VTB7H.js";import"./onMountedOrActivated-CPthIpwg.js";import"./sortable.esm-DFFrMEeC.js";import"./index-D93fFNl6.js";import"./copyTextToClipboard-Cxs8Y4LI.js";import"./useSortable-B_A9JW_B.js";import"./index-CqgpaEX_.js";import"./index-9koevRY3.js";import"./useContentViewHeight-3hiKmHsM.js";const N=I({name:"OauthManagement",components:{BasicTable:w,OauthDrawer:D,TableAction:T,PageWrapper:B},setup(){const{t:e}=P.useI18n(),[l,{openDrawer:a}]=y(),[c,{reload:n}]=C({title:e("sys.oauth.providerList"),api:k,columns:v,useSearchForm:!1,showTableSetting:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:30,title:e("common.action"),dataIndex:"action",fixed:void 0}});function m(){a(!0,{isUpdate:!1})}function i(o){a(!0,{record:o,isUpdate:!0})}function r(o){return d(this,null,function*(){(yield O({ids:[o.id]})).code===0&&(yield n())})}function t(){return d(this,null,function*(){yield n()})}return{t:e,registerTable:c,registerDrawer:l,handleCreate:m,handleEdit:i,handleDelete:r,handleSuccess:t}}});function V(e,l,a,c,n,m){const i=s("a-button"),r=s("TableAction"),t=s("BasicTable"),o=s("OauthDrawer"),f=s("PageWrapper");return b(),g(f,null,{default:p(()=>[u(t,{onRegister:e.registerTable},{toolbar:p(()=>[u(i,{type:"primary",onClick:e.handleCreate},{default:p(()=>[R($(e.t("sys.oauth.addProvider")),1)]),_:1},8,["onClick"])]),bodyCell:p(({column:_,record:h})=>[_.key==="action"?(b(),g(r,{key:0,actions:[{icon:"clarity:note-edit-line",onClick:e.handleEdit.bind(null,h)},{icon:"ant-design:delete-outlined",color:"error",popConfirm:{title:e.t("common.deleteConfirm"),placement:"left",confirm:e.handleDelete.bind(null,h)}}]},null,8,["actions"])):A("",!0)]),_:1},8,["onRegister"]),u(o,{onRegister:e.registerDrawer,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}const se=S(N,[["render",V]]);export{se as default};
