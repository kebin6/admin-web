var M=Object.defineProperty;var g=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var _=(t,e,r)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w=(t,e)=>{for(var r in e||(e={}))D.call(e,r)&&_(t,r,e[r]);if(g)for(var r of g(e))O.call(e,r)&&_(t,r,e[r]);return t};var f=(t,e,r)=>new Promise((m,l)=>{var c=o=>{try{s(r.next(o))}catch(d){l(d)}},i=o=>{try{s(r.throw(o))}catch(d){l(d)}},s=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,i);s((r=r.apply(t,e)).next())});import{_ as B,a as v}from"./useForm-Cq3McrEd.js";import{b as x,a as p,v as F,_ as q}from"./entry/index-DaEB-Y-8-1718870402071.js";import{B as y,a as $}from"./index-CL7BM-aX.js";import{d as N,f as S,c as k,u,ab as I,_ as P,a7 as R,a8 as C,k as L,ac as j}from"./vue-BMCEF3Jf.js";const{t:a}=x(),Y=[{title:a("platform_management.order.id"),dataIndex:"id",width:50},{title:a("platform_management.order.code"),dataIndex:"code",width:120},{title:a("platform_management.order.transactionId"),dataIndex:"transactionId",width:120},{title:a("platform_management.order.type"),dataIndex:"type",width:80},{title:a("platform_management.order.num"),dataIndex:"num",width:80},{title:a("platform_management.order.toAddress"),dataIndex:"toAddress",width:180},{title:a("platform_management.order.fromAddress"),dataIndex:"fromAddress",width:180},{title:a("common.status"),dataIndex:"statusDesc",width:180},{title:a("platform_management.order.createdAt"),dataIndex:"createdAt",width:100},{title:a("platform_management.order.updatedAt"),dataIndex:"updatedAt",width:100}],Z=[],T=[{field:"id",label:"ID",component:"Input",show:!1},{field:"id",label:a("platform_management.order.id"),component:"InputNumber",required:!0},{field:"createdAt",label:a("platform_management.order.createdAt"),component:"InputNumber",required:!0},{field:"updatedAt",label:a("platform_management.order.updatedAt"),component:"InputNumber",required:!0},{field:"type",label:a("platform_management.order.type"),component:"Input",required:!0},{field:"code",label:a("platform_management.order.code"),component:"Input",required:!0},{field:"num",label:a("platform_management.order.num"),component:"InputNumber",required:!0},{field:"toAddress",label:a("platform_management.order.toAddress"),component:"Input",required:!0},{field:"fromAddress",label:a("platform_management.order.fromAddress"),component:"Input",required:!0},{field:"transactionId",label:a("platform_management.order.transactionId"),component:"Input",required:!0},{field:"statusDesc",label:a("platform_management.order.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:a("common.on"),value:1},{label:a("common.off"),value:2}]}}],ee=(t,e="notice")=>p.post({url:"/wl-api/order/list",params:t},{errorMessageMode:e}),V=(t,e="notice")=>p.post({url:"/wl-api/order/create",params:t},{errorMessageMode:e,successMessageMode:e}),G=(t,e="notice")=>p.post({url:"/wl-api/order/update",params:t},{errorMessageMode:e,successMessageMode:e}),te=(t,e="notice")=>p.post({url:"/wl-api/order/delete",params:t},{errorMessageMode:e,successMessageMode:e}),U=N({name:"OrderDrawer",components:{BasicDrawer:y,BasicForm:B},emits:["success","register"],setup(t,{emit:e}){const r=S(!0),{t:m}=F.useI18n(),[l,{resetFields:c,setFieldsValue:i,validate:s}]=v({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:T,showActionButtonGroup:!1}),[o,{setDrawerProps:d,closeDrawer:b}]=$(n=>f(this,null,function*(){c(),d({confirmLoading:!1}),r.value=!!(n!=null&&n.isUpdate),u(r)&&i(w({},n.record))})),h=k(()=>u(r)?m("platform_management.order.editOrder"):m("platform_management.order.addOrder"));function A(){return f(this,null,function*(){const n=yield s();d({confirmLoading:!0}),n.id=u(r)?Number(n.id):0,(u(r)?yield G(n):yield V(n)).code===0&&(b(),e("success")),d({confirmLoading:!1})})}return{registerDrawer:o,registerForm:l,getTitle:h,handleSubmit:A}}});function z(t,e,r,m,l,c){const i=I("BasicForm"),s=I("BasicDrawer");return P(),R(s,j(t.$attrs,{onRegister:t.registerDrawer,showFooter:"",title:t.getTitle,width:"500px",onOk:t.handleSubmit}),{default:C(()=>[L(i,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const H=q(U,[["render",z]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as O,re as a,Y as c,te as d,ee as g,Z as s};
