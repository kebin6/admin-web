var h=Object.defineProperty;var f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var b=(s,r,e)=>r in s?h(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,k=(s,r)=>{for(var e in r||(r={}))y.call(r,e)&&b(s,e,r[e]);if(f)for(var e of f(r))I.call(r,e)&&b(s,e,r[e]);return s};var u=(s,r,e)=>new Promise((i,c)=>{var d=t=>{try{o(e.next(t))}catch(m){c(m)}},l=t=>{try{o(e.throw(t))}catch(m){c(m)}},o=t=>t.done?i(t.value):Promise.resolve(t.value).then(d,l);o((e=e.apply(s,r)).next())});import{_ as D,a as B}from"./useForm-Cq3McrEd.js";import{b as F,as as M,v,_ as P}from"./entry/index-DaEB-Y-8-1718870402071.js";import{B as $,a as S}from"./index-CL7BM-aX.js";import{u as T,c as x}from"./memberRank-Dvbd9q1A.js";import{d as C,f as O,c as j,u as p,ab as R,_ as A,a7 as L,a8 as N,k as U,ac as V}from"./vue-BMCEF3Jf.js";const{t:a}=F(),Z=[{title:a("sys.memberRank.name"),dataIndex:"trans",width:100},{title:a("sys.memberRank.description"),dataIndex:"description",width:100},{title:a("sys.memberRank.remark"),dataIndex:"remark",width:100},{title:a("common.createTime"),dataIndex:"createdAt",width:70,customRender:({record:s})=>M(s.createdAt)}],ee=[{field:"name",label:a("sys.memberRank.name"),component:"Input",colProps:{span:8}},{field:"description",label:a("sys.memberRank.description"),component:"Input",colProps:{span:8}},{field:"remark",label:a("sys.memberRank.remark"),component:"Input",colProps:{span:8}}],z=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:a("sys.memberRank.name"),component:"Input"},{field:"code",label:a("sys.memberRank.code"),component:"Input"},{field:"description",label:a("sys.memberRank.description"),component:"Input"},{field:"remark",label:a("sys.memberRank.remark"),component:"Input"}],G=C({name:"MemberRankDrawer",components:{BasicDrawer:$,BasicForm:D},emits:["success","register"],setup(s,{emit:r}){const e=O(!0),{t:i}=v.useI18n(),[c,{resetFields:d,setFieldsValue:l,validate:o}]=B({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:z,showActionButtonGroup:!1}),[t,{setDrawerProps:m,closeDrawer:w}]=S(n=>u(this,null,function*(){d(),m({confirmLoading:!1}),e.value=!!(n!=null&&n.isUpdate),p(e)&&l(k({},n.record))})),_=j(()=>p(e)?i("sys.memberRank.editMemberRank"):i("sys.memberRank.addMemberRank"));function g(){return u(this,null,function*(){const n=yield o();m({confirmLoading:!0}),n.id=p(e)?Number(n.id):0,(p(e)?yield T(n):yield x(n)).code===0&&(w(),r("success")),m({confirmLoading:!1})})}return{registerDrawer:t,registerForm:c,getTitle:_,handleSubmit:g}}});function W(s,r,e,i,c,d){const l=R("BasicForm"),o=R("BasicDrawer");return A(),L(o,V(s.$attrs,{onRegister:s.registerDrawer,showFooter:"",title:s.getTitle,width:"500px",onOk:s.handleSubmit}),{default:N(()=>[U(l,{onRegister:s.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const q=P(G,[["render",W]]),se=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{q as M,se as a,Z as c,ee as s};
