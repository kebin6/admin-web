var z=Object.defineProperty,j=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var L=(l,r,a)=>r in l?z(l,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[r]=a,R=(l,r)=>{for(var a in r||(r={}))J.call(r,a)&&L(l,a,r[a]);if(w)for(var a of w(r))K.call(r,a)&&L(l,a,r[a]);return l},$=(l,r)=>j(l,H(r));var N=(l,r,a)=>new Promise((y,g)=>{var C=f=>{try{p(a.next(f))}catch(k){g(k)}},h=f=>{try{p(a.throw(f))}catch(k){g(k)}},p=f=>f.done?y(f.value):Promise.resolve(f.value).then(C,h);p((a=a.apply(l,r)).next())});import{d as Q,f as U,S as W,h as X,_ as i,$ as b,k as D,a8 as d,F as T,a9 as V,a7 as _,ad as Y,u as o,aa as F,a1 as M,G,a2 as Z,ab as I}from"./vue-BMCEF3Jf.js";import{p as ee,f as ae,k as ne,u as te,I as O,b as re,aB as se,R as ue,L as ce,q as le,b9 as oe}from"./entry/index-C41ZFr6n-1718602026943.js";import{h as ie,au as fe,b1 as me,b2 as de}from"./antd-BPAr-OsJ.js";const he={key:1},pe={key:1},be=Q({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:ee.oneOf(["dark","light"])},setup(l){const r=U([]),{currentRoute:a}=W(),{prefixCls:y}=ae("layout-breadcrumb"),{getShowBreadCrumbIcon:g}=ne(),C=te(),{t:h}=re();X(()=>N(this,null,function*(){var E,P,S,A;if(a.value.name===ue)return;const c=yield ce(),t=a.value.matched,n=t==null?void 0:t[t.length-1];let e=a.value.path;n&&((E=n==null?void 0:n.meta)!=null&&E.currentActiveMenu)&&(e=n.meta.currentActiveMenu);const s=le(c,e),u=c.filter(q=>q.path===s[0]),m=p(u,s);if(!m||m.length===0){r.value=[];return}const v=f(m);(P=a.value.meta)!=null&&P.currentActiveMenu&&!((S=a.value.meta)!=null&&S.hideBreadcrumb)&&v.push($(R({},a.value),{name:((A=a.value.meta)==null?void 0:A.title)||a.value.name})),r.value=v}));function p(c,t){const n=[];return c.forEach(e=>{var s,u;t.includes(e.path)&&n.push($(R({},e),{name:((s=e.meta)==null?void 0:s.title)||e.name})),(u=e.children)!=null&&u.length&&n.push(...p(e.children,t))}),n}function f(c){return oe(c,t=>{const{meta:n,name:e}=t;if(!n)return!!e;const{title:s,hideBreadcrumb:u,hideMenu:m}=n;return!(!s||u||m)}).filter(t=>{var n;return!((n=t.meta)!=null&&n.hideBreadcrumb)})}function k(c){const{children:t,redirect:n,meta:e}=c;if(!(t!=null&&t.length&&!n)&&!(e!=null&&e.carryParam))if(n&&se(n))C(n);else{let s="";c.path?s=c.path:s="",s=/^\//.test(s)?s:`/${s}`,C(s)}}function x(c,t){return c.indexOf(t)!==c.length-1}function B(c){var t;return c.icon||((t=c.meta)==null?void 0:t.icon)}return(c,t)=>{const n=I("router-link");return i(),b("div",{class:Z([o(y),`${o(y)}--${l.theme}`])},[D(o(de),null,{default:d(()=>[(i(!0),b(T,null,V(r.value,e=>{var s;return i(),_(o(me),{key:e.name},Y({default:d(()=>[o(g)&&B(e)?(i(),_(O,{key:0,icon:B(e)},null,8,["icon"])):F("",!0),x(r.value,e)?(i(),_(n,{key:2,to:"",onClick:u=>k(e)},{default:d(()=>[G(M(o(h)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(i(),b("span",he,M(o(h)(e.meta.title||e.name)),1))]),_:2},[e.children&&!((s=e.meta)!=null&&s.hideChildrenInMenu)?{name:"overlay",fn:d(()=>[D(o(ie),null,{default:d(()=>[(i(!0),b(T,null,V(e.children,u=>(i(),_(o(fe),{key:u.name},{default:d(()=>{var m;return[o(g)&&B(u)?(i(),_(O,{key:0,icon:B(u)},null,8,["icon"])):F("",!0),x(r.value,u)?(i(),_(n,{key:2,to:"",onClick:v=>k(u)},{default:d(()=>{var v;return[G(M(o(h)(((v=u.meta)==null?void 0:v.title)||u.name)),1)]}),_:2},1032,["onClick"])):(i(),b("span",pe,M(o(h)(((m=u.meta)==null?void 0:m.title)||u.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024)}),128))]),_:1})],2)}}});export{be as default};
