var P=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(e,a,n)=>a in e?P(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,y=(e,a)=>{for(var n in a||(a={}))C.call(a,n)&&_(e,n,a[n]);if(g)for(var n of g(a))N.call(a,n)&&_(e,n,a[n]);return e};var f=(e,a,n)=>new Promise((l,m)=>{var p=r=>{try{i(n.next(r))}catch(s){m(s)}},d=r=>{try{i(n.throw(r))}catch(s){m(s)}},i=r=>r.done?l(r.value):Promise.resolve(r.value).then(p,d);i((n=n.apply(e,a)).next())});import{_ as M,a as x}from"./useForm-DGqLGoed.js";import{a as c,b as q,v as A,_ as S}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{l as k,d as D,f as B,c as F,u,ab as I,_ as L,a7 as R,a8 as $,k as W,ac as O}from"./vue-BMCEF3Jf.js";import{Q as j}from"./antd-BPAr-OsJ.js";import{B as T,a as V}from"./index-BsqrLki-.js";const te=(e,a="notice")=>c.post({url:"/wl-api/player/list",params:e},{errorMessageMode:a}),G=(e,a="notice")=>c.post({url:"/wl-api/player/create",params:e},{errorMessageMode:a,successMessageMode:a}),w=(e,a="notice")=>c.post({url:"/wl-api/player/update",params:e},{errorMessageMode:a,successMessageMode:a}),ae=(e,a="notice")=>c.post({url:"/wl-api/player/delete",params:e},{errorMessageMode:a,successMessageMode:a}),{t}=q(),ne=[{title:t("platform_management.player.id"),dataIndex:"id",width:100},{title:t("platform_management.player.createdAt"),dataIndex:"createdAt",width:100},{title:t("platform_management.player.updatedAt"),dataIndex:"updatedAt",width:100},{title:t("platform_management.player.name"),dataIndex:"name",width:100},{title:t("platform_management.player.rank"),dataIndex:"rank",width:100},{title:t("platform_management.player.usdt"),dataIndex:"usdt",width:100},{title:t("platform_management.player.invitedNum"),dataIndex:"invitedNum",width:100},{title:t("platform_management.player.totalIncome"),dataIndex:"totalIncome",width:100},{title:t("platform_management.player.profitAndLoss"),dataIndex:"profitAndLoss",width:100},{title:t("platform_management.player.recent100WinPercent"),dataIndex:"recent100WinPercent",width:100},{title:t("platform_management.player.inviteCode"),dataIndex:"inviteCode",width:100},{title:t("platform_management.player.inviterId"),dataIndex:"inviterId",width:100},{title:t("platform_management.player.invitedCode"),dataIndex:"invitedCode",width:100},{title:t("common.status"),dataIndex:"status",width:50,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),k(j,{checked:e.status===1,checkedChildren:t("common.on"),unCheckedChildren:t("common.off"),loading:e.pendingStatus,onChange(a,n){e.pendingStatus=!0;const l=a?1:2;w({id:e.id,status:l}).then(()=>{e.status=l}).finally(()=>{e.pendingStatus=!1})}}))}],re=[],U=[{field:"id",label:"ID",component:"Input",show:!1},{field:"id",label:t("platform_management.player.id"),component:"InputNumber",required:!0},{field:"createdAt",label:t("platform_management.player.createdAt"),component:"InputNumber",required:!0},{field:"updatedAt",label:t("platform_management.player.updatedAt"),component:"InputNumber",required:!0},{field:"name",label:t("platform_management.player.name"),component:"Input",required:!0},{field:"rank",label:t("platform_management.player.rank"),component:"InputNumber",required:!0},{field:"usdt",label:t("platform_management.player.usdt"),component:"InputNumber",required:!0},{field:"invitedNum",label:t("platform_management.player.invitedNum"),component:"InputNumber",required:!0},{field:"totalIncome",label:t("platform_management.player.totalIncome"),component:"InputNumber",required:!0},{field:"profitAndLoss",label:t("platform_management.player.profitAndLoss"),component:"InputNumber",required:!0},{field:"recent100WinPercent",label:t("platform_management.player.recent100WinPercent"),component:"InputNumber",required:!0},{field:"inviteCode",label:t("platform_management.player.inviteCode"),component:"Input",required:!0},{field:"inviterId",label:t("platform_management.player.inviterId"),component:"InputNumber",required:!0},{field:"invitedCode",label:t("platform_management.player.invitedCode"),component:"Input",required:!0},{field:"status",label:t("platform_management.player.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:t("common.on"),value:1},{label:t("common.off"),value:2}]}}],z=D({name:"PlayerDrawer",components:{BasicDrawer:T,BasicForm:M},emits:["success","register"],setup(e,{emit:a}){const n=B(!0),{t:l}=A.useI18n(),[m,{resetFields:p,setFieldsValue:d,validate:i}]=x({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:U,showActionButtonGroup:!1}),[r,{setDrawerProps:s,closeDrawer:b}]=V(o=>f(this,null,function*(){p(),s({confirmLoading:!1}),n.value=!!(o!=null&&o.isUpdate),u(n)&&d(y({},o.record))})),h=F(()=>u(n)?l("platform_management.player.editPlayer"):l("platform_management.player.addPlayer"));function v(){return f(this,null,function*(){const o=yield i();s({confirmLoading:!0}),o.id=u(n)?Number(o.id):0,(u(n)?yield w(o):yield G(o)).code===0&&(b(),a("success")),s({confirmLoading:!1})})}return{registerDrawer:r,registerForm:m,getTitle:h,handleSubmit:v}}});function H(e,a,n,l,m,p){const d=I("BasicForm"),i=I("BasicDrawer");return L(),R(i,O(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",title:e.getTitle,width:"500px",onOk:e.handleSubmit}),{default:$(()=>[W(d,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const Q=S(z,[["render",H]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{Q as P,oe as a,ne as c,ae as d,te as g,re as s};
