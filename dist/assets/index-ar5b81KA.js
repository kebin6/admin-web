var f=(p,s,g)=>new Promise((n,r)=>{var i=u=>{try{b(g.next(u))}catch(d){r(d)}},a=u=>{try{b(g.throw(u))}catch(d){r(d)}},b=u=>u.done?n(u.value):Promise.resolve(u.value).then(i,a);b((g=g.apply(p,s)).next())});import{d as T,r as w,ab as h,_ as y,a7 as L,a8 as l,k as m,u as t,m as v,A as N,G as U,a1 as R}from"./vue-BMCEF3Jf.js";import{P as W}from"./index-va7oxFJT.js";import{a as x,v as M}from"./entry/index-DaEB-Y-8-1718870402071.js";import{i as S}from"./index-DnIErCUr.js";import{o as I,U as c,aZ as q,ao as A,d as k,M as F}from"./antd-BNMfrwLX.js";import"./useContentViewHeight-CtHro70F.js";import"./useWindowSizeFn-NWtUJjFU.js";import"./onMountedOrActivated-CPthIpwg.js";import"./isNumber-j3SIk7av.js";import"./ExclamationCircleOutlined-BOht0FRf.js";const B=(p,s="notice")=>x.post({url:"/wl-api/setting/update",params:p},{errorMessageMode:s,successMessageMode:s}),D=(p,s="notice")=>x.post({url:"/wl-api/setting/find",params:p},{errorMessageMode:s}),K=T({__name:"index",setup(p){const s=I,g=c,n=q,r=A,{t:i}=M.useI18n(),a=w({gameCommission:0,withdrawCommission:0,minWithdrawNum:0,withdrawThreshold:0,idleTime:0,robotNum:w({min:0,max:0}),robotLampNum:w({min:0,max:0}),gameRule:w({title:"",content:""})});f(this,null,function*(){const d=yield D({module:"platform_setting"});if(d.code!=0){k.error(d.msg);return}let e=d.data;a.gameCommission=e.gameCommission?e.gameCommission:0,a.withdrawCommission=e.withdrawCommission?e.withdrawCommission:0,a.minWithdrawNum=e.minWithdrawNum?e.minWithdrawNum:0,a.withdrawThreshold=e.withdrawThreshold?e.withdrawThreshold:0,a.idleTime=e.idleTime?e.idleTime:0,a.robotNum=e.robotNum?e.robotNum:{min:0,max:0},a.robotLampNum=e.robotLampNum?e.robotLampNum:{min:0,max:0}});function u(){return f(this,null,function*(){F.confirm({title:i("common.updateConfirm"),icon:m(S.ExclamationCircleOutlined),onOk(){return f(this,null,function*(){yield B(a)})},onCancel(){}})})}return(d,e)=>{const C=h("a-input"),_=h("a-button");return y(),L(t(W),null,{default:l(()=>[m(t(s),{title:t(i)("platform_management.setting.setting"),style:{width:"100%"}},{default:l(()=>[m(t(g),{model:a,name:"basic","label-col":{span:8},"wrapper-col":{span:8},autocomplete:"off",onSubmit:e[11]||(e[11]=o=>u())},{default:l(()=>[m(t(n),{label:t(i)("platform_management.setting.gameCommission"),name:"gameCommission",rules:[{required:!0,type:"number"}]},{default:l(()=>[m(t(r),{value:a.gameCommission,"onUpdate:value":e[0]||(e[0]=o=>a.gameCommission=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.withdrawCommission"),name:"withdrawCommission",rules:[{required:!0}]},{default:l(()=>[m(t(r),{value:a.withdrawCommission,"onUpdate:value":e[1]||(e[1]=o=>a.withdrawCommission=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.minWithdrawNum"),name:"minWithdrawNum",rules:[{required:!0,type:"integer"}]},{default:l(()=>[m(t(r),{value:a.minWithdrawNum,"onUpdate:value":e[2]||(e[2]=o=>a.minWithdrawNum=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.withdrawThreshold"),name:"withdrawThreshold",rules:[{required:!0}]},{default:l(()=>[m(t(r),{value:a.withdrawThreshold,"onUpdate:value":e[3]||(e[3]=o=>a.withdrawThreshold=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.idleTime"),name:"idleTime",rules:[{required:!0,type:"integer"}]},{default:l(()=>[m(t(r),{value:a.idleTime,"onUpdate:value":e[4]||(e[4]=o=>a.idleTime=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.minRobotNum"),name:"robotNum.min",rules:[{type:"integer"}]},{default:l(()=>[m(t(r),{value:a.robotNum.min,"onUpdate:value":e[5]||(e[5]=o=>a.robotNum.min=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.maxRobotNum"),name:"robotNum.max",rules:[{type:"integer"}]},{default:l(()=>[m(t(r),{value:a.robotNum.max,"onUpdate:value":e[6]||(e[6]=o=>a.robotNum.max=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.minRobotLampNum"),name:"robotLampNum.min",rules:[{type:"integer"}]},{default:l(()=>[m(t(r),{value:a.robotLampNum.min,"onUpdate:value":e[7]||(e[7]=o=>a.robotLampNum.min=o)},null,8,["value"])]),_:1},8,["label"]),m(t(n),{label:t(i)("platform_management.setting.maxRobotLampNum"),name:"robotLampNum.max",rules:[{type:"integer"}]},{default:l(()=>[m(t(r),{value:a.robotLampNum.max,"onUpdate:value":e[8]||(e[8]=o=>a.robotLampNum.max=o)},null,8,["value"])]),_:1},8,["label"]),v(m(t(n),{name:"gameRule.title"},{default:l(()=>[v(m(C,{value:a.gameRule.title,"onUpdate:value":e[9]||(e[9]=o=>a.gameRule.title=o)},null,8,["value"]),[[N,!1]])]),_:1},512),[[N,!1]]),v(m(t(n),{name:"gameRule.content"},{default:l(()=>[v(m(C,{value:a.gameRule.content,"onUpdate:value":e[10]||(e[10]=o=>a.gameRule.content=o)},null,8,["value"]),[[N,!1]])]),_:1},512),[[N,!1]]),m(t(n),{"wrapper-col":{offset:8,span:16}},{default:l(()=>[m(_,{type:"primary","html-type":"submit"},{default:l(()=>[U(R(t(i)("common.saveText")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1})}}});export{K as default};
