var C=Object.defineProperty;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var g=(e,t,a)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,h=(e,t)=>{for(var a in t||(t={}))k.call(t,a)&&g(e,a,t[a]);if(p)for(var a of p(t))I.call(t,a)&&g(e,a,t[a]);return e};var f=(e,t,a)=>new Promise((r,c)=>{var u=o=>{try{l(a.next(o))}catch(i){c(i)}},m=o=>{try{l(a.throw(o))}catch(i){c(i)}},l=o=>o.done?r(o.value):Promise.resolve(o.value).then(u,m);l((a=a.apply(e,t)).next())});import{_ as D,a as S}from"./useForm-DGqLGoed.js";import{b as B,as as v,v as R,_ as P}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{u as w,c as $}from"./cloudFileTag-C71zMwBV.js";import{l as y,d as x,f as O,c as j,u as d,ab as F,_ as A,a7 as L,a8 as V,k as G,ac as N}from"./vue-BMCEF3Jf.js";import{Q as U}from"./antd-BPAr-OsJ.js";import{B as q,a as z}from"./index-BsqrLki-.js";const{t:s}=B(),te=[{title:s("fms.cloudFileTag.name"),dataIndex:"name",width:50},{title:s("fms.cloudFileTag.remark"),dataIndex:"remark",width:50},{title:s("common.status"),dataIndex:"status",width:20,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),y(U,{checked:e.status===1,checkedChildren:s("common.on"),unCheckedChildren:s("common.off"),loading:e.pendingStatus,onChange(t,a){e.pendingStatus=!0;const r=t?1:2;w({id:e.id,status:r}).then(()=>{e.status=r}).finally(()=>{e.pendingStatus=!1})}}))},{title:s("common.createTime"),dataIndex:"createdAt",width:30,customRender:({record:e})=>v(e.createdAt)}],se=[{field:"name",label:s("fms.cloudFileTag.name"),component:"Input",colProps:{span:8}},{field:"remark",label:s("fms.cloudFileTag.remark"),component:"Input",colProps:{span:8}}],M=[{field:"id",label:"ID",component:"Input",show:!1},{field:"name",label:s("fms.cloudFileTag.name"),component:"Input",required:!0},{field:"remark",label:s("fms.cloudFileTag.remark"),component:"Input"},{field:"status",label:s("fms.cloudFileTag.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:s("common.on"),value:1},{label:s("common.off"),value:2}]}}],Q=x({name:"CloudFileTagDrawer",components:{BasicDrawer:q,BasicForm:D},emits:["success","register"],setup(e,{emit:t}){const a=O(!0),{t:r}=R.useI18n(),[c,{resetFields:u,setFieldsValue:m,validate:l}]=S({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:M,showActionButtonGroup:!1}),[o,{setDrawerProps:i,closeDrawer:T}]=z(n=>f(this,null,function*(){u(),i({confirmLoading:!1}),a.value=!!(n!=null&&n.isUpdate),d(a)&&m(h({},n.record))})),_=j(()=>d(a)?r("fms.cloudFileTag.editCloudFileTag"):r("fms.cloudFileTag.addCloudFileTag"));function b(){return f(this,null,function*(){const n=yield l();i({confirmLoading:!0}),n.id=d(a)?Number(n.id):0,(d(a)?yield w(n):yield $(n)).code===0&&(T(),t("success")),i({confirmLoading:!1})})}return{registerDrawer:o,registerForm:c,getTitle:_,handleSubmit:b}}});function W(e,t,a,r,c,u){const m=F("BasicForm"),l=F("BasicDrawer");return A(),L(l,N(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",title:e.getTitle,width:"500px",onOk:e.handleSubmit}),{default:V(()=>[G(m,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const E=P(Q,[["render",W]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{E as C,oe as a,te as c,se as s};
