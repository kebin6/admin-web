var S=Object.defineProperty;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var w=(t,e,a)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,_=(t,e)=>{for(var a in e||(e={}))M.call(e,a)&&w(t,a,e[a]);if(f)for(var a of f(e))D.call(e,a)&&w(t,a,e[a]);return t};var p=(t,e,a)=>new Promise((m,l)=>{var c=r=>{try{o(a.next(r))}catch(i){l(i)}},u=r=>{try{o(a.throw(r))}catch(i){l(i)}},o=r=>r.done?m(r.value):Promise.resolve(r.value).then(c,u);o((a=a.apply(t,e)).next())});import{_ as B,a as F}from"./useForm-DGqLGoed.js";import{b as v,a as g,v as C,_ as L}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{B as R,a as T}from"./index-BsqrLki-.js";import{d as $,f as q,c as x,u as d,ab as b,_ as k,a7 as y,a8 as W,k as O,ac as P}from"./vue-BMCEF3Jf.js";const{t:n}=v(),Y=[{title:n("platform_management.setting.gameRule"),dataIndex:"gameRule",width:100},{title:n("platform_management.setting.robotNum"),dataIndex:"robotNum",width:100},{title:n("platform_management.setting.robotLampNum"),dataIndex:"robotLampNum",width:100},{title:n("platform_management.setting.withdrawCommission"),dataIndex:"withdrawCommission",width:100},{title:n("platform_management.setting.minWithdrawNum"),dataIndex:"minWithdrawNum",width:100},{title:n("platform_management.setting.idleTime"),dataIndex:"idleTime",width:100}],Z=[],j=[{field:"id",label:"ID",component:"Input",show:!1},{field:"gameRule",label:n("platform_management.setting.gameRule"),component:"Input",required:!0},{field:"robotNum",label:n("platform_management.setting.robotNum"),component:"Input",required:!0},{field:"robotLampNum",label:n("platform_management.setting.robotLampNum"),component:"Input",required:!0},{field:"withdrawCommission",label:n("platform_management.setting.withdrawCommission"),component:"InputNumber",required:!0},{field:"minWithdrawNum",label:n("platform_management.setting.minWithdrawNum"),component:"InputNumber",required:!0},{field:"idleTime",label:n("platform_management.setting.idleTime"),component:"InputNumber",required:!0}],ee=(t,e="notice")=>g.post({url:"/wl-api/setting/list",params:t},{errorMessageMode:e}),U=(t,e="notice")=>g.post({url:"/wl-api/setting/create",params:t},{errorMessageMode:e,successMessageMode:e}),V=(t,e="notice")=>g.post({url:"/wl-api/setting/update",params:t},{errorMessageMode:e,successMessageMode:e}),te=(t,e="notice")=>g.post({url:"/wl-api/setting/delete",params:t},{errorMessageMode:e,successMessageMode:e}),z=$({name:"SettingDrawer",components:{BasicDrawer:R,BasicForm:B},emits:["success","register"],setup(t,{emit:e}){const a=q(!0),{t:m}=C.useI18n(),[l,{resetFields:c,setFieldsValue:u,validate:o}]=F({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:j,showActionButtonGroup:!1}),[r,{setDrawerProps:i,closeDrawer:h}]=T(s=>p(this,null,function*(){c(),i({confirmLoading:!1}),a.value=!!(s!=null&&s.isUpdate),d(a)&&u(_({},s.record))})),I=x(()=>d(a)?m("platform_management.setting.editSetting"):m("platform_management.setting.addSetting"));function N(){return p(this,null,function*(){const s=yield o();i({confirmLoading:!0}),s.id=d(a)?Number(s.id):0,(d(a)?yield V(s):yield U(s)).code===0&&(h(),e("success")),i({confirmLoading:!1})})}return{registerDrawer:r,registerForm:l,getTitle:I,handleSubmit:N}}});function A(t,e,a,m,l,c){const u=b("BasicForm"),o=b("BasicDrawer");return k(),y(o,P(t.$attrs,{onRegister:t.registerDrawer,showFooter:"",title:t.getTitle,width:"500px",onOk:t.handleSubmit}),{default:W(()=>[O(u,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const G=L(z,[["render",A]]),ae=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{G as S,ae as a,Y as c,te as d,ee as g,Z as s};
