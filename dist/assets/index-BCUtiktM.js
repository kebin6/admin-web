const __vite__fileDeps=["assets/DropMenuItem-DVvmfvG-.js","assets/entry/index-C41ZFr6n-1718602026943.js","assets/vue-BMCEF3Jf.js","assets/antd-BPAr-OsJ.js","assets/index-CIoGHd_B.css","assets/LockModal-BUHULnGB.js","assets/index-G5Wa8967.js","assets/index-oRM4bmDd.js","assets/index-KNk2XnHD.css","assets/useWindowSizeFn-Cczi9si3.js","assets/isDeepEqual-CCjWtLPA.js","assets/index-DO8ukmcw.css","assets/useForm-5wnZKxWU.js","assets/index-D93fFNl6.js","assets/index-B1prL0gx.css","assets/object-BY_VTB7H.js","assets/index-CrgunjrK.js","assets/isBoolean-Dou3jA6I.js","assets/index-M1HFCELM.css","assets/copyTextToClipboard-Cxs8Y4LI.js","assets/useSortable-B_A9JW_B.js","assets/index-CqgpaEX_.js","assets/index-szLzC6x9.css","assets/index-9koevRY3.js","assets/index-CULgz5Vs.css","assets/isNumber-j3SIk7av.js","assets/onMountedOrActivated-CPthIpwg.js","assets/useForm-BXU1i77l.css","assets/lock-V38FtNfD.js","assets/header-eUmriAJi.js","assets/LockModal-CETB33ga.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{A as v,p as O,f as S,c as P,u as R,b as V,D as x,_ as E}from"./entry/index-C41ZFr6n-1718602026943.js";import{D as B}from"./siteSetting--X_-_MSh.js";import{c as w,u as G}from"./index-B-WYdmNF.js";import{b as F}from"./index-G5Wa8967.js";import{h as z}from"./header-eUmriAJi.js";import{D as H,h as L,G as W}from"./antd-BPAr-OsJ.js";import{d as j,c as I,_ as n,$ as M,k as a,a8 as c,a7 as p,aa as _,a0 as s,a2 as u,a1 as $,F as b,a9 as q,G as J,ab as r}from"./vue-BMCEF3Jf.js";import"./index-oRM4bmDd.js";import"./isBoolean-Dou3jA6I.js";import"./index-loMFYMmQ.js";import"./useContentViewHeight-3hiKmHsM.js";import"./useWindowSizeFn-Cczi9si3.js";import"./useSortable-B_A9JW_B.js";import"./index-DDf_l8hU.js";import"./isNumber-j3SIk7av.js";import"./isDeepEqual-CCjWtLPA.js";import"./lock-V38FtNfD.js";const K=j({name:"UserDropdown",components:{Dropdown:H,Menu:L,Tag:W,MenuItem:w(()=>v(()=>import("./DropMenuItem-DVvmfvG-.js"),__vite__mapDeps([0,1,2,3,4]))),MenuDivider:L.Divider,LockAction:w(()=>v(()=>import("./LockModal-BUHULnGB.js"),__vite__mapDeps([5,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])))},props:{theme:O.oneOf(["dark","light"])},setup(){const{prefixCls:e}=S("header-user-dropdown"),{t:h}=V(),{getShowDoc:D,getUseLockPage:C}=G(),i=P(),y=R(),m=I(()=>{const{nickname:o="",avatar:A,desc:N}=i.getUserInfo||{};return{nickname:o,avatar:A||z,desc:N}}),t=I(()=>{let o=i.getRoleName;return o.length>3?o.slice(0,3):o}),[d,{openModal:f}]=F();function g(){f(!0)}function k(){i.confirmLoginOut()}function l(){x(B)}function T(){y("/profile")}function U(o){switch(o.key){case"logout":k();break;case"doc":l();break;case"lock":g();break;case"profile":T();break}}return{prefixCls:e,t:h,getUserInfo:m,handleMenuClick:U,getShowDoc:D,register:d,getUseLockPage:C,roleTag:t}}}),Q=["src"],X={class:"ml-4"};function Y(e,h,D,C,i,y){const m=r("Tag"),t=r("MenuItem"),d=r("MenuDivider"),f=r("Menu"),g=r("Dropdown"),k=r("LockAction");return n(),M(b,null,[a(g,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:c(()=>[a(f,{onClick:e.handleMenuClick},{default:c(()=>[a(t,{key:"profile",text:e.t("layout.header.profile"),icon:"ion:document-text-outline"},null,8,["text"]),e.getShowDoc?(n(),p(t,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):_("",!0),e.getShowDoc?(n(),p(d,{key:1})):_("",!0),e.getUseLockPage?(n(),p(t,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):_("",!0),a(t,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:c(()=>[s("span",{class:u([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[s("img",{class:u(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,Q),s("span",{class:u(`${e.prefixCls}__info hidden md:block`)},[s("span",{class:u([`${e.prefixCls}__name`,"truncate"])},$(e.getUserInfo.nickname),3),s("span",X,[(n(!0),M(b,null,q(e.roleTag,l=>(n(),p(m,{key:l,color:"blue"},{default:c(()=>[J($(l),1)]),_:2},1024))),128))])],2)],2)]),_:1},8,["overlayClassName"]),a(k,{onRegister:e.register},null,8,["onRegister"])],64)}const ke=E(K,[["render",Y]]);export{ke as default};
