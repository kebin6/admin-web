var O=Object.defineProperty;var g=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var _=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))S.call(t,r)&&_(e,r,t[r]);if(g)for(var r of g(t))D.call(t,r)&&_(e,r,t[r]);return e};var f=(e,t,r)=>new Promise((s,i)=>{var u=o=>{try{d(r.next(o))}catch(m){i(m)}},l=o=>{try{d(r.throw(o))}catch(m){i(m)}},d=o=>o.done?s(o.value):Promise.resolve(o.value).then(u,l);d((r=r.apply(e,t)).next())});import{_ as B,a as v}from"./useForm-DGqLGoed.js";import{a as p,b as y,v as F,_ as x}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{l as k,d as q,f as C,c as R,u as c,ab as h,_ as $,a7 as N,a8 as P,k as L,ac as j}from"./vue-BMCEF3Jf.js";import{Q as T}from"./antd-BPAr-OsJ.js";import{B as V,a as G}from"./index-BsqrLki-.js";const te=(e,t="notice")=>p.post({url:"/wl-api/order/list",params:e},{errorMessageMode:t}),U=(e,t="notice")=>p.post({url:"/wl-api/order/create",params:e},{errorMessageMode:t,successMessageMode:t}),b=(e,t="notice")=>p.post({url:"/wl-api/order/update",params:e},{errorMessageMode:t,successMessageMode:t}),re=(e,t="notice")=>p.post({url:"/wl-api/order/delete",params:e},{errorMessageMode:t,successMessageMode:t}),{t:a}=y(),ae=[{title:a("platform_management.order.id"),dataIndex:"id",width:100},{title:a("platform_management.order.createdAt"),dataIndex:"createdAt",width:100},{title:a("platform_management.order.updatedAt"),dataIndex:"updatedAt",width:100},{title:a("platform_management.order.type"),dataIndex:"type",width:100},{title:a("platform_management.order.code"),dataIndex:"code",width:100},{title:a("platform_management.order.num"),dataIndex:"num",width:100},{title:a("platform_management.order.toAddress"),dataIndex:"toAddress",width:100},{title:a("platform_management.order.fromAddress"),dataIndex:"fromAddress",width:100},{title:a("common.status"),dataIndex:"status",width:50,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),k(T,{checked:e.status===1,checkedChildren:a("common.on"),unCheckedChildren:a("common.off"),loading:e.pendingStatus,onChange(t,r){e.pendingStatus=!0;const s=t?1:2;b({id:e.id,status:s}).then(()=>{e.status=s}).finally(()=>{e.pendingStatus=!1})}}))}],oe=[],z=[{field:"id",label:"ID",component:"Input",show:!1},{field:"id",label:a("platform_management.order.id"),component:"InputNumber",required:!0},{field:"createdAt",label:a("platform_management.order.createdAt"),component:"InputNumber",required:!0},{field:"updatedAt",label:a("platform_management.order.updatedAt"),component:"InputNumber",required:!0},{field:"type",label:a("platform_management.order.type"),component:"Input",required:!0},{field:"code",label:a("platform_management.order.code"),component:"Input",required:!0},{field:"num",label:a("platform_management.order.num"),component:"InputNumber",required:!0},{field:"toAddress",label:a("platform_management.order.toAddress"),component:"Input",required:!0},{field:"fromAddress",label:a("platform_management.order.fromAddress"),component:"Input",required:!0},{field:"status",label:a("platform_management.order.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:a("common.on"),value:1},{label:a("common.off"),value:2}]}}],H=q({name:"OrderDrawer",components:{BasicDrawer:V,BasicForm:B},emits:["success","register"],setup(e,{emit:t}){const r=C(!0),{t:s}=F.useI18n(),[i,{resetFields:u,setFieldsValue:l,validate:d}]=v({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:z,showActionButtonGroup:!1}),[o,{setDrawerProps:m,closeDrawer:I}]=G(n=>f(this,null,function*(){u(),m({confirmLoading:!1}),r.value=!!(n!=null&&n.isUpdate),c(r)&&l(w({},n.record))})),A=R(()=>c(r)?s("platform_management.order.editOrder"):s("platform_management.order.addOrder"));function M(){return f(this,null,function*(){const n=yield d();m({confirmLoading:!0}),n.id=c(r)?Number(n.id):0,(c(r)?yield b(n):yield U(n)).code===0&&(I(),t("success")),m({confirmLoading:!1})})}return{registerDrawer:o,registerForm:i,getTitle:A,handleSubmit:M}}});function Q(e,t,r,s,i,u){const l=h("BasicForm"),d=h("BasicDrawer");return $(),N(d,j(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",title:e.getTitle,width:"500px",onOk:e.handleSubmit}),{default:P(()=>[L(l,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const W=x(H,[["render",Q]]),ne=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as O,ne as a,ae as c,re as d,te as g,oe as s};
