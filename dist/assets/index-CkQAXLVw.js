import{f as G,_ as $,ar as M}from"./entry/index-DaEB-Y-8-1718870402071.js";import{N,J as b,b3 as R,G as z,s as q,b4 as E,E as D,aE as I}from"./antd-BNMfrwLX.js";import{d as P,f as S,c as k,u as C,w as L,_ as s,a7 as g,a8 as o,$ as m,a9 as O,k as d,a0 as w,af as V,G as F,a1 as f,aa as T,F as A,a2 as K,ab as i}from"./vue-BMCEF3Jf.js";import{i as B}from"./isNumber-j3SIk7av.js";const j=[{key:"1",name:"通知",list:[{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"你收到了 14 份新周报",description:"",datetime:"2017-08-09",type:"1"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"你推荐的 曲妮妮 已通过第三轮面试",description:"",datetime:"2017-08-08",type:"1"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"这种模板可以区分多种通知类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"标题可以设置自动显示省略号，本例中标题行数已设为1行，如果内容超过1行将自动截断并支持tooltip显示完整标题。",description:"",datetime:"2017-08-07",type:"1"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000009",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"},{id:"000000010",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",description:"",datetime:"2017-08-07",type:"1"}]},{key:"2",name:"消息",list:[{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"曲丽丽 评论了你",description:"描述信息描述信息描述信息",datetime:"2017-08-07",type:"2",clickClose:!0},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"朱偏右 回复了你",description:"这种模板用于提醒谁与你发生了互动",datetime:"2017-08-07",type:"2",clickClose:!0},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"标题",description:"请将鼠标移动到此处，以便测试超长的消息在此处将如何处理。本例中设置的描述最大行数为2，超过2行的描述内容将被省略并且可以通过tooltip查看完整内容",datetime:"2017-08-07",type:"2",clickClose:!0}]},{key:"3",name:"待办",list:[{id:"000000009",avatar:"",title:"任务名称",description:"任务需要在 2017-01-12 20:00 前启动",datetime:"",extra:"未开始",color:"",type:"3"},{id:"000000010",avatar:"",title:"第三方紧急代码变更",description:"冠霖 需在 2017-01-07 前完成代码变更任务",datetime:"",extra:"马上到期",color:"red",type:"3"},{id:"000000011",avatar:"",title:"信息安全考试",description:"指派竹尔于 2017-01-09 前完成更新并发布",datetime:"",extra:"已耗时 8 天",color:"gold",type:"3"},{id:"000000012",avatar:"",title:"ABCD 版本发布",description:"指派竹尔于 2017-01-09 前完成更新并发布",datetime:"",extra:"进行中",color:"blue",type:"3"}]}],x=P({components:{[N.name]:N,[b.name]:b,[b.Item.name]:b.Item,AListItemMeta:b.Item.Meta,ATypographyParagraph:R.Paragraph,[z.name]:z},props:{list:{type:Array,default:()=>[]},pageSize:{type:[Boolean,Number],default:5},currentPage:{type:Number,default:1},titleRows:{type:Number,default:1},descRows:{type:Number,default:2},onTitleClick:{type:Function}},emits:["update:currentPage"],setup(t,{emit:y}){const{prefixCls:v}=G("header-notify-list"),c=S(t.currentPage||1),h=k(()=>{const{pageSize:a,list:p}=t;if(a===!1)return[];let r=B(a)?a:5;return p.slice(r*(C(c)-1),r*C(c))});L(()=>t.currentPage,a=>{c.value=a});const n=k(()=>!!t.onTitleClick),l=k(()=>{const{list:a,pageSize:p}=t,r=B(p)?p:Number(p)&&5;return r>0&&a&&a.length>r?{total:a.length,pageSize:r,current:C(c),onChange(u){c.value=u,y("update:currentPage",u)}}:!1});function _(a){t.onTitleClick&&t.onTitleClick(a)}return{prefixCls:v,getPagination:l,getData:h,handleTitleClick:_,isTitleClickable:n}}}),X={class:"title"},H={key:0,class:"extra"},U={key:1},J={key:0,class:"description"},W={class:"datetime"};function Y(t,y,v,c,h,n){const l=i("a-typography-paragraph"),_=i("a-tag"),a=i("a-avatar"),p=i("a-list-item-meta"),r=i("a-list-item"),u=i("a-list");return s(),g(u,{class:K(t.prefixCls),bordered:"",pagination:t.getPagination},{default:o(()=>[(s(!0),m(A,null,O(t.getData,e=>(s(),g(r,{key:e.id,class:"list-item"},{default:o(()=>[d(p,null,{title:o(()=>[w("div",X,[d(l,{onClick:at=>t.handleTitleClick(e),style:V([{width:"100%","margin-bottom":"0 !important"},{cursor:t.isTitleClickable?"pointer":""}]),delete:!!e.titleDelete,ellipsis:t.$props.titleRows&&t.$props.titleRows>0?{rows:t.$props.titleRows,tooltip:!!e.title}:!1,content:e.title},null,8,["onClick","style","delete","ellipsis","content"]),e.extra?(s(),m("div",H,[d(_,{class:"tag",color:e.color},{default:o(()=>[F(f(e.extra),1)]),_:2},1032,["color"])])):T("",!0)])]),avatar:o(()=>[e.avatar?(s(),g(a,{key:0,class:"avatar",src:e.avatar},null,8,["src"])):(s(),m("span",U,f(e.avatar),1))]),description:o(()=>[w("div",null,[e.description?(s(),m("div",J,[d(l,{style:{width:"100%","margin-bottom":"0 !important"},ellipsis:t.$props.descRows&&t.$props.descRows>0?{rows:t.$props.descRows,tooltip:!!e.description}:!1,content:e.description},null,8,["ellipsis","content"])])):T("",!0),w("div",W,f(e.datetime),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["class","pagination"])}const Z=$(x,[["render",Y],["__scopeId","data-v-49096f66"]]),Q=P({components:{Popover:q,BellOutlined:E,Tabs:D,TabPane:D.TabPane,Badge:I,NoticeList:Z},setup(){const{prefixCls:t}=G("header-notify"),{createMessage:y}=M(),v=S(j),c=k(()=>{let n=0;for(let l=0;l<j.length;l++)n+=j[l].list.length;return n});function h(n){y.success("你点击了通知，ID="+n.id),n.titleDelete=!n.titleDelete}return{prefixCls:t,listData:v,count:c,onNoticeClick:h,numberStyle:{}}}}),tt={key:0};function et(t,y,v,c,h,n){const l=i("BellOutlined"),_=i("Badge"),a=i("NoticeList"),p=i("TabPane"),r=i("Tabs"),u=i("Popover");return s(),m("div",{class:K(t.prefixCls)},[d(u,{title:"",trigger:"click",overlayClassName:`${t.prefixCls}__overlay`},{content:o(()=>[d(r,null,{default:o(()=>[(s(!0),m(A,null,O(t.listData,e=>(s(),g(p,{key:e.key},{tab:o(()=>[F(f(e.name)+" ",1),e.list.length!==0?(s(),m("span",tt,"("+f(e.list.length)+")",1)):T("",!0)]),default:o(()=>[e.key==="1"?(s(),g(a,{key:0,list:e.list,onTitleClick:t.onNoticeClick},null,8,["list","onTitleClick"])):(s(),g(a,{key:1,list:e.list},null,8,["list"]))]),_:2},1024))),128))]),_:1})]),default:o(()=>[d(_,{count:t.count,dot:"",numberStyle:t.numberStyle},{default:o(()=>[d(l)]),_:1},8,["count","numberStyle"])]),_:1},8,["overlayClassName"])],2)}const lt=$(Q,[["render",et]]);export{lt as default};
