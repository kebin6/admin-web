var v=Object.defineProperty;var y=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var D=(e,a,t)=>a in e?v(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,g=(e,a)=>{for(var t in a||(a={}))S.call(a,t)&&D(e,t,a[t]);if(y)for(var t of y(a))k.call(a,t)&&D(e,t,a[t]);return e};var p=(e,a,t)=>new Promise((i,u)=>{var m=n=>{try{r(t.next(n))}catch(l){u(l)}},c=n=>{try{r(t.throw(n))}catch(l){u(l)}},r=n=>n.done?i(n.value):Promise.resolve(n.value).then(m,c);r((t=t.apply(e,a)).next())});import{_ as F,a as B}from"./useForm-5wnZKxWU.js";import{b as x,as as C,v as R,_ as P}from"./entry/index-C41ZFr6n-1718602026943.js";import{a as w,b as $}from"./copyTextToClipboard-Cxs8Y4LI.js";import{g as T}from"./dictionary-Di0GR5O7.js";import{l as q,d as N,f as A,c as L,u as d,ab as h,_ as O,a7 as j,a8 as V,k as z,ac as G}from"./vue-BMCEF3Jf.js";import{Q as U}from"./antd-BPAr-OsJ.js";import{B as M,a as Q}from"./index-DDf_l8hU.js";const{t:s}=x(),oe=[{title:s("common.displayName"),dataIndex:"title",width:100},{title:s("sys.dictionary.key"),dataIndex:"key",width:100},{title:s("sys.dictionary.value"),dataIndex:"value",width:100},{title:s("common.status"),dataIndex:"status",width:50,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),q(U,{checked:e.status===1,checkedChildren:s("common.on"),unCheckedChildren:s("common.off"),loading:e.pendingStatus,onChange(a,t){e.pendingStatus=!0;const i=a?1:2;w({id:e.id,status:i}).then(()=>{e.status=i}).finally(()=>{e.pendingStatus=!1})}}))},{title:s("common.createTime"),dataIndex:"createdAt",width:70,customRender:({record:e})=>C(e.createdAt)}],ne=[{field:"key",label:s("sys.dictionary.key"),component:"Input",colProps:{span:8}}],W=[{field:"id",label:"ID",component:"Input",show:!1},{field:"title",label:s("common.displayName"),component:"Input",required:!0,rules:[{max:50}]},{field:"key",label:s("sys.dictionary.key"),component:"Input",required:!0,rules:[{max:80}]},{field:"value",label:s("sys.dictionary.value"),component:"Input",required:!0,rules:[{max:100}]},{field:"sort",label:s("common.sort"),component:"InputNumber",required:!0,rules:[{type:"number",max:1e4}]},{field:"status",label:s("common.status"),component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:s("common.on"),value:1},{label:s("common.off"),value:2}]}},{field:"dictionaryId",label:s("sys.dictionary.name"),component:"ApiSelect",required:!0,componentProps:{api:T,params:{page:1,pageSize:1e3},resultField:"data.data",labelField:"title",valueField:"id"}}],E=N({name:"DictionaryDetailDrawer",components:{BasicDrawer:M,BasicForm:F},emits:["success","register"],setup(e,{emit:a}){const t=A(!0),{t:i}=R.useI18n(),[u,{resetFields:m,setFieldsValue:c,validate:r}]=B({labelWidth:160,baseColProps:{span:24},layout:"vertical",schemas:W,showActionButtonGroup:!1}),[n,{setDrawerProps:l,closeDrawer:b}]=Q(o=>p(this,null,function*(){m(),l({confirmLoading:!1}),t.value=!!(o!=null&&o.isUpdate);const f=o==null?void 0:o.dictionaryId;d(t)?c(g({},o.record)):c({dictionaryId:f})})),_=L(()=>d(t)?i("sys.dictionary.editDictionaryDetail"):i("sys.dictionary.addDictionaryDetail"));function I(){return p(this,null,function*(){const o=yield r();l({confirmLoading:!0}),o.id=d(t)?Number(o.id):0,(d(t)?yield w(o):yield $(o)).code===0&&(b(),a("success")),l({confirmLoading:!1})})}return{registerDrawer:n,registerForm:u,getTitle:_,handleSubmit:I}}});function H(e,a,t,i,u,m){const c=h("BasicForm"),r=h("BasicDrawer");return O(),j(r,G(e.$attrs,{onRegister:e.registerDrawer,showFooter:"",title:e.getTitle,width:"500px",onOk:e.handleSubmit}),{default:V(()=>[z(c,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const J=P(E,[["render",H]]),ie=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as D,ie as a,oe as c,ne as s};
