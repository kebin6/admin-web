var i=(a,s,t)=>new Promise((o,n)=>{var c=e=>{try{r(t.next(e))}catch(l){n(l)}},u=e=>{try{r(t.throw(e))}catch(l){n(l)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(c,u);r((t=t.apply(a,s)).next())});import{d as m,S as p,f as _,_ as d,$ as g}from"./vue-BMCEF3Jf.js";import{o as k}from"./oauthProvider-DTa8s6v-.js";import{u as v,b as y,c as h,P as f,_ as E}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{d as S}from"./antd-BPAr-OsJ.js";const $=m({name:"OauthCallbackPage",components:{},setup(){const{currentRoute:a}=p(),s=v(),{t}=y(),o=_("");o.value+="?state="+a.value.query.state,o.value+="&code="+a.value.query.code;function n(c){return i(this,null,function*(){try{const u=yield k(c,"message"),{token:r}=u,e=h();e.setToken(r),yield e.afterLoginAction(!1),s(f.BASE_HOME)}catch(u){S.error(t("sys.oauth.createAccount"),5),s(f.BASE_LOGIN)}})}return n(o.value),{}}});function b(a,s,t,o,n,c){return d(),g("div")}const L=E($,[["render",b]]);export{L as default};
