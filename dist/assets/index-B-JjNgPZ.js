var m=(f,i,l)=>new Promise((c,g)=>{var y=o=>{try{d(l.next(o))}catch(p){g(p)}},h=o=>{try{d(l.throw(o))}catch(p){g(p)}},d=o=>o.done?c(o.value):Promise.resolve(o.value).then(y,h);d((l=l.apply(f,i)).next())});import{P as J}from"./index-BhZXNDYX.js";import{a as I,v as N,_ as P}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{n as R,i as x,o as A,p as V,R as T,d as D}from"./antd-BPAr-OsJ.js";import{d as H,f as r,_ as O,a7 as W,a8 as e,k as a,u as t,G as _,a1 as u,a0 as s,ab as q,a3 as E,a4 as K}from"./vue-BMCEF3Jf.js";import"./useContentViewHeight-Dm-gI_FW.js";import"./useWindowSizeFn-DLNrSaDV.js";import"./onMountedOrActivated-CPthIpwg.js";import"./isNumber-j3SIk7av.js";const Q=()=>I.get({url:"/sys-api/core/init/database"}),X=()=>I.get({url:"/sys-api/core/init/job_database"}),Y=()=>I.get({url:"/sys-api/core/init/mcms_database"}),Z=()=>I.get({url:"/fms-api/init/database"}),$=()=>I.get({url:"/mms-api/init/database"}),M=f=>(E("data-v-d906d2f3"),f=f(),K(),f),tt=M(()=>s("p",null,[s("a",{href:"https://github.com/suyuan32/simple-admin-core"},"Core Github")],-1)),at=M(()=>s("p",null,[s("a",{href:"https://github.com/suyuan32/simple-admin-file"},"File Manager Github")],-1)),et=M(()=>s("p",null,[s("a",{href:"https://github.com/suyuan32/simple-admin-member-api"},"Member Github")],-1)),it=M(()=>s("p",null,[s("a",{href:"https://github.com/suyuan32/simple-admin-job"},"Job Github")],-1)),st=M(()=>s("p",null,[s("a",{href:"https://github.com/suyuan32/simple-admin-message-center"},"Mcms Github")],-1)),nt=H({__name:"index",setup(f){const{t:i}=N.useI18n(),l=A,c=V,g=T,y=r(!1),h=r(!1),d=r(!1),o=r(!1),p=r(!1),k=r(!1),B=r("http://localhost"),S=r("9100"),w=r("");function G(){return m(this,null,function*(){const n=w.value==""?"":"/"+w.value;k.value=!0,window.open(B.value+":"+S.value+n+"/init/database","_blank"),k.value=!1})}function L(){return m(this,null,function*(){y.value=!0;const n=yield Q();n.code===0&&D.success(n.msg,3),y.value=!1})}function z(){return m(this,null,function*(){h.value=!0;const n=yield Z();n.code===0&&D.success(n.msg,3),h.value=!1})}function U(){return m(this,null,function*(){d.value=!0;const n=yield $();n.code===0&&D.success(n.msg,3),d.value=!1})}function j(){return m(this,null,function*(){o.value=!0;const n=yield X();n.code===0&&D.success(n.msg,3),o.value=!1})}function F(){return m(this,null,function*(){p.value=!0;const n=yield Y();n.code===0&&D.success(n.msg,3),p.value=!1})}return(n,b)=>{const v=q("a-button");return O(),W(t(J),{title:t(i)("sys.init.initTitle"),"content-full-height":!0,class:"bg"},{default:e(()=>[a(t(g),{gutter:[16,16]},{default:e(()=>[a(t(c),{span:6},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initCoreDatabase"),hoverable:!0},{default:e(()=>[tt,a(v,{type:"primary",loading:y.value,onClick:L},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initFileDatabase"),hoverable:!0},{default:e(()=>[at,a(v,{type:"primary",loading:h.value,onClick:z},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initMMSDatabase"),hoverable:!0},{default:e(()=>[et,a(v,{type:"primary",loading:d.value,onClick:U},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initJobDatabase"),hoverable:!0},{default:e(()=>[it,a(v,{type:"primary",loading:o.value,onClick:j},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1}),a(t(c),{span:6},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initMcmsDatabase"),hoverable:!0},{default:e(()=>[st,a(v,{type:"primary",loading:p.value,onClick:F},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])]),_:1},8,["title"])]),_:1})]),_:1}),a(t(R)),a(t(g),null,{default:e(()=>[a(t(c),{span:12},{default:e(()=>[a(t(l),{title:t(i)("sys.init.initCustom"),hoverable:!0},{default:e(()=>[s("p",null,u(t(i)("sys.init.initUrl")),1),s("p",null,[a(t(x),{value:B.value,"onUpdate:value":b[0]||(b[0]=C=>B.value=C)},null,8,["value"])]),s("p",null,u(t(i)("sys.init.initPort")),1),s("p",null,[a(t(x),{value:S.value,"onUpdate:value":b[1]||(b[1]=C=>S.value=C)},null,8,["value"])]),s("p",null,u(t(i)("sys.init.initService")),1),s("p",null,[a(t(x),{value:w.value,"onUpdate:value":b[2]||(b[2]=C=>w.value=C),placeholder:t(i)("sys.init.initOptional")},null,8,["value","placeholder"])]),s("p",null,u(t(i)("sys.init.initRedirect")),1),s("p",null,[a(v,{type:"primary",loading:k.value,onClick:G},{default:e(()=>[_(u(t(i)("common.start")),1)]),_:1},8,["loading"])])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["title"])}}}),bt=P(nt,[["__scopeId","data-v-d906d2f3"]]);export{bt as default};
