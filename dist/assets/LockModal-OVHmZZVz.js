var f=(e,m,s)=>new Promise((p,t)=>{var d=o=>{try{a(s.next(o))}catch(i){t(i)}},n=o=>{try{a(s.throw(o))}catch(i){t(i)}},a=o=>o.done?p(o.value):Promise.resolve(o.value).then(d,n);a((s=s.apply(e,m)).next())});import{f as $,c as v,b as w,_ as y}from"./entry/index-DvPJ5Vzs-1718250502895.js";import{B as S,a as F}from"./index-3BhCtvAk.js";import{_ as I,a as L}from"./useForm-DGqLGoed.js";import{u as M}from"./lock-BEyEgR2h.js";import{h as b}from"./header-eUmriAJi.js";import{d as R,c as _,_ as N,a7 as P,a8 as k,a0 as c,a2 as l,a1 as g,k as h,G as U,ac as V,ab as u}from"./vue-BMCEF3Jf.js";import"./antd-BPAr-OsJ.js";import"./index-CU9epjG0.js";import"./useWindowSizeFn-DLNrSaDV.js";import"./isDeepEqual-DDA9_BTC.js";import"./index-CBIPPzDl.js";import"./object-BY_VTB7H.js";import"./index-Bji4O60f.js";import"./isBoolean-Dou3jA6I.js";import"./copyTextToClipboard-sKBLHCHY.js";import"./useSortable-DDWVM7pI.js";import"./index-DQkEJ5Ra.js";import"./index-DsLJPeYo.js";import"./isNumber-j3SIk7av.js";import"./onMountedOrActivated-CPthIpwg.js";const D=R({name:"LockModal",components:{BasicModal:S,BasicForm:I},setup(){const{t:e}=w(),{prefixCls:m}=$("header-lock-modal"),s=v(),p=M(),t=_(()=>{var r;return(r=s.getUserInfo)==null?void 0:r.nickname}),[d,{closeModal:n}]=F(),[a,{validate:o,resetFields:i}]=L({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]}),C=()=>f(this,null,function*(){const{password:r=""}=yield o();n(),p.setLockInfo({isLock:!0,pwd:r}),yield i()}),B=_(()=>{const{avatar:r}=s.getUserInfo;return r||b});return{t:e,prefixCls:m,getRealName:t,register:d,registerForm:a,handleLock:C,avatar:B}}}),G=["src"];function q(e,m,s,p,t,d){const n=u("BasicForm"),a=u("a-button"),o=u("BasicModal");return N(),P(o,V({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:k(()=>[c("div",{class:l(`${e.prefixCls}__entry`)},[c("div",{class:l(`${e.prefixCls}__header`)},[c("img",{src:e.avatar,class:l(`${e.prefixCls}__header-img`)},null,10,G),c("p",{class:l(`${e.prefixCls}__header-name`)},g(e.getRealName),3)],2),h(n,{onRegister:e.registerForm},null,8,["onRegister"]),c("div",{class:l(`${e.prefixCls}__footer`)},[h(a,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:k(()=>[U(g(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}const ne=y(D,[["render",q]]);export{ne as default};
